---
layout: post
title: "[Glean] Library Formats: CCS, ECSM, and NLDM"
description: "This article provides an overview of three common library formats used in the design and analysis of digital circuits: Composite Current Source (CCS), Effective Current Source Model (ECSM), and Non-Linear Delay Model (NLDM), which is generated by ChatGPT4."
categories: [Glean]
tags: [Cadence, Innovus, APR, CCS, ECSM, NLDM]
last_updated: 2023-04-03 22:36:00 GMT+8
excerpt: "This article provides an overview of three common library formats used in the design and analysis of digital circuits: Composite Current Source (CCS), Effective Current Source Model (ECSM), and Non-Linear Delay Model (NLDM), which is generated by ChatGPT4."
redirect_from:
  - /2023/04/03/
---

* Kramdown table of contents
{:toc .toc}

The first half of this article is gleaned by me and the next half is generated by ChatGPT4.

# Library Formats

Based on the driver model used for characterization, there are three different formats: Non-Linear Delay Model (NLDM), Composite Current Source (CCS), and Effective Current Source Model (ECSM). [^1]

## Concurrent Current Source (CCS)

Concurrent Current Source (CCS) uses a current source for driver modeling. It mostly used for sign off analysis. It is precise, but too heavyweight library.

### File extension [^1]

`lib-ccs*` - These are Liberty models characterized with CCS driver model.

+ `lib-ccs-p` - Liberty characterized using CCS model with power data. The ccs-p liberty file is used for power analysis. These liberty files are provided only for the PVTs that have power sign-off corners.

+ `lib-ccs-tn` - CCS model with timing and noise data.

+ `lib-ccs-tn-scm` - CCS model with timing and noise data, with statistical constraint margin (SCM). SCM Liberty files contain additional hold time margin added to sequential cells to account for variation.

+ `lib-ccs-tnv` - CCS model with timing and noise data, with LVF (Liberty Variance Format) variation. Arm recommends to use the lib-ccs-tnv models for sign-off where available, as the LVF models variation better.

## Effective Current Source Model (ECSM) [^2]

Effective Current Source Model (ECSM) timing model is based on current-source modeling. It is an advanced cell driver model that represents the effect of non-linear switching waveforms on cell-based interconnect delay calculation and signal integrity. 

### File extension[^1]

`lib-ecsm*`

+ `lib-ecsm-tn` - ECSM model with timing and noise data.

+ `lib-ecsm-tn-scm` - ESCM model with timing and noise data, with statistical constraint margin (SCM). SCM Liberty files contain additional hold time margin added to sequential cells to account for variation.

+ `lib-ecsm-tnv` - ESCM model with timing and noise data, with LVF variation. Arm recommends to use the `lib-ccs-tnv` models for sign-off where available, as the LVF models variation better.

## Non-Linear Delay Model (NLDM)

Non-Linear Delay Model (NLDM) uses a voltage source for driver modeling. It uses lookup tables with load and slope as indexes. [^3]

### File extension[^1]

`.lib`

## Summary

| Library   | Accuracy | Filesize | Usage | Extension |
| ----------- | ----------- | ----------- | ----------- | ----------- |
| CCS    | High     | Large |Sign-off|`.lib-ccs*`|
| ECSM   | Medium   | Medium  |Large Design|`.lib-ecsm*`|
| NLDM   | Low    | Small|Out-dated Nodes| `.lib`|

# By ChatGPT4 -- Library Formats: CCS, ECSM, and NLDM

<!--Prompt2: Thank you! Could you please write a document in Markdown format including a summarytable for me, as an experienced circuit architect, to establish a knowledge wiki?-->

This document provides an overview of three common library formats used in the design and analysis of digital circuits: Composite Current Source (CCS), Effective Current Source Model (ECSM), and Non-Linear Delay Model (NLDM).

## Summary Table

| Library Format | Definition | Accuracy | Computation Speed | Suitable for Noise & Power Analysis |
|----------------|------------|----------|-------------------|-------------------------------------|
| CCS            | A highly accurate library format using multiple current sources to model the behavior of digital gates. | High | Slow | Yes |
| ECSM           | A library format that uses effective current sources to approximate the behavior of digital circuits, balancing accuracy and computational complexity. | Medium | Moderate | Limited |
| NLDM           | A library format that models delay and output transition using look-up tables (LUTs) as a function of input slew and output load. | Low | Fast | No |

## Composite Current Source (CCS)

### Definition
CCS is a library format used for characterizing the timing, noise, and power behavior of digital circuits. It provides a more accurate representation of the transistor-level behavior by using multiple current sources to model the behavior of the digital gates.

### Characters
- High accuracy in modeling both static and dynamic behaviors
- Considers the impact of input slew and output load on the gate behavior
- Models complex effects such as Miller capacitance and well proximity effect

### Usage
CCS is widely used in advanced technology nodes for digital circuit synthesis, place and route, static timing analysis (STA), and power analysis. It is preferred for designs with tight timing margins or where power and noise are critical design parameters.

## Effective Current Source Model (ECSM)

### Definition
ECSM is a library format that uses effective current sources to approximate the behavior of digital circuits. It provides a trade-off between accuracy and computational complexity, making it suitable for larger designs.

### Characters
- Simplified modeling of transistor-level behavior
- Faster computation compared to CCS, but less accurate
- Considers the impact of input slew and output load on gate behavior, but with less granularity than CCS

### Usage
ECSM is used for digital circuit synthesis, place and route, and static timing analysis (STA) when the design size or complexity makes CCS too computationally expensive or when higher-level abstractions are sufficient.

## Non-Linear Delay Model (NLDM)

### Definition
NLDM is a library format that models the delay and output transition of digital circuits as a function of input slew and output load. It uses look-up tables (LUTs) to store the delay and transition information.

### Characters
- Coarser modeling of circuit behavior compared to CCS and ECSM
- Relatively faster computation
- Only considers the delay and output transition, not suitable for noise and power analysis

### Usage
NLDM is suitable for digital circuit synthesis, place and route, and static timing analysis (STA) in less aggressive technology nodes or when the focus is on timing performance rather than power or noise. It's less commonly used in advanced technology nodes, where CCS and ECSM provide more accurate results.

# Reference

[^1]: [What is the difference between CCS, NLDM, ECSM liberty files, and sign-off guidance for them?](https://developer.arm.com/documentation/ka005178/latest)

[^2]: [ECSM Library Format](https://www.cadence.com/ko_KR/home/alliances/standards-and-languages/ecsm-library-format.html)

[^3]: [Introduction to Liberty : CCS, ECSM and NDLM](https://chitlesh.ch/wordpress/liberty-ccs-ecsm-or-ndlm/)
